{% extends 'base.html' %}

{% block title %}{{ object.title }}{% endblock %}

{% block content %}
	<div class="p-4 m-4 bg-light border border-success rounded">
		<!-- DetailViewを使用しているときに提供されるコンテキスト変数。urlpatternsを見て該当するオブジェクトを取得できる -->
		<h2 class="text-success">{{ object.title }}</h2>
		<div class="card-body">
			<p>{{ object.text }}</p>
			<div class="border p-4 mb-2">
				 {% for review in object.review_set.all %}
				 <div>
					<h3 class="h4">{{ review.title }}</h3>
					<div class="px-2">
						<span>{投稿ユーザー: {{ review.user.username }}}</span>
						<h6>評価：{{ review.rate }}点</h6>
						<p>{{ review.text }}</p>
					</div>
				</div>
				{% endfor %}
			</div>
			<a href="{% url 'review' object.pk %}" class="btn btn-primary">レビューする</a>
		</div>
	</div>
{% endblock content %}